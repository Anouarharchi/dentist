<!DOCTYPE html>
<html lang="fr">
<head>
  <title>Gestion du Personnel - Clinique</title>
  <meta charset="UTF-8">
</head>
<body style="font-family: Arial, sans-serif; margin: 20px;">

  <div style="max-width:1200px; margin:auto;">
    
    <!-- ===== Dashboard Cards ===== -->
    <div style="display:flex; gap:15px; justify-content:center; margin-bottom:20px;">
  <div style="flex:1; padding:15px; background-color:#f1f1f1; border-radius:8px; text-align:center; box-shadow:0 2px 5px rgba(0,0,0,0.1);">
    <h3 style="margin-bottom:10px;">Nombre de Patients</h3>
    <p id="patientsCount" style="font-size:24px; font-weight:bold; margin:0;">0</p>
  </div>
  <div style="flex:1; padding:15px; background-color:#f1f1f1; border-radius:8px; text-align:center; box-shadow:0 2px 5px rgba(0,0,0,0.1);">
    <h3 style="margin-bottom:10px;">Revenu</h3>
    <p id="income" style="font-size:24px; font-weight:bold; margin:0;">0 DH</p>
  </div>
<div style="flex:1; padding:15px; background-color:#f1f1f1; border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,0.1); display:flex; align-items:center; gap:15px;">
  <!-- Photo -->
  <img id="profilePhoto" src="" 
       alt="Photo utilisateur" 
       style="width:60px; height:60px; border-radius:50%; object-fit:cover; border:1px solid #ccc;">

  <!-- Name + Logout button -->
  <div style="display:flex; flex-direction:column; justify-content:center; flex:1;">
    <h3 style="margin:0 0 5px 0;">Utilisateur</h3>
    <p id="currentUser" style="font-size:16px; font-weight:bold; margin:0 0 10px 0;">—</p>
    <button id="logout"
            style="padding:8px 16px; border:none; border-radius:4px; background-color:#f44336; color:white; cursor:pointer; width:max-content;"
            onmouseover="this.style.backgroundColor='#e53935';" 
            onmouseout="this.style.backgroundColor='#f44336';">
      Déconnexion
    </button>
  </div>
</div>

</div>


<!-- ===== Top buttons ===== -->
<h1 style="text-align:center; margin-bottom:20px;">Gestion du Personnel</h1>
<div style="display:flex; gap:10px; justify-content:center; margin-bottom:15px;">
      <button id="refresh" style="padding:8px 16px; border:none; border-radius:4px; background-color:#2196F3; color:white; cursor:pointer;"
              onmouseover="this.style.backgroundColor='#1976D2';" onmouseout="this.style.backgroundColor='#2196F3';">
        Actualiser
      </button>
      <button id="add" style="padding:8px 16px; border:none; border-radius:4px; background-color:#4CAF50; color:white; cursor:pointer;"
              onmouseover="this.style.backgroundColor='#45a049';" onmouseout="this.style.backgroundColor='#4CAF50';">
        Ajouter
      </button>
      <!-- <button id="logout" style="padding:8px 16px; border:none; border-radius:4px; background-color:#f44336; color:white; cursor:pointer;"
              onmouseover="this.style.backgroundColor='#e53935';" onmouseout="this.style.backgroundColor='#f44336';">
        Déconnexion
      </button> -->
    </div>

    <!-- ===== Personnel Table ===== -->
    <table id="table" style="width:100%; border-collapse:collapse; text-align:left;">
      <thead>
        <tr style="background-color:#2196F3; color:white;">
          <th style="padding:8px; border:1px solid #ddd;">ID</th>
          <th style="padding:8px; border:1px solid #ddd;">Nom</th>
          <th style="padding:8px; border:1px solid #ddd;">Prénom</th>
          <th style="padding:8px; border:1px solid #ddd;">Type</th>
          <th style="padding:8px; border:1px solid #ddd;">Droit</th>
          <th style="padding:8px; border:1px solid #ddd;">Login</th>
          <th style="padding:8px; border:1px solid #ddd;">CIN</th>
          <th style="padding:8px; border:1px solid #ddd;">Photo</th>
          <th style="padding:8px; border:1px solid #ddd;">Actions</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- ===== Add / Edit Modal ===== -->
  <div id="addModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,0.5); justify-content:center; align-items:center;">
    <div id="modalContent" style="background:white; padding:20px; border-radius:8px; max-width:400px; margin:auto;">
      <h3 style="text-align:center;">Ajouter / Modifier un personnel</h3>
      <input type="text" id="nom" placeholder="Nom" style="width:100%; margin:5px 0; padding:8px;">
      <input type="text" id="prenom" placeholder="Prénom" style="width:100%; margin:5px 0; padding:8px;">
      <input type="text" id="tel" placeholder="Téléphone" style="width:100%; margin:5px 0; padding:8px;">
      <input type="text" id="mail" placeholder="Email" style="width:100%; margin:5px 0; padding:8px;">
      <input type="text" id="adresse" placeholder="Adresse" style="width:100%; margin:5px 0; padding:8px;">
      <input type="text" id="type" placeholder="Type (Ex: Employé, Médecin)" style="width:100%; margin:5px 0; padding:8px;">
      <input type="text" id="specialite" placeholder="Spécialité" style="width:100%; margin:5px 0; padding:8px;">
      <input type="text" id="cin" placeholder="CIN" style="width:100%; margin:5px 0; padding:8px;">
      <input type="text" id="login" placeholder="Login" style="width:100%; margin:5px 0; padding:8px;">
      <input type="password" id="motPasse" placeholder="Mot de passe" style="width:100%; margin:5px 0; padding:8px;">
      <select id="droit" style="width:100%; margin:5px 0; padding:8px;">
        <option value="user">User</option>
        <option value="admin">Admin</option>
        <option value="doctor">Doctor</option>
        <option value="secretary">Secretary</option>
        <option value="finance">Finance</option>
      </select>
      <input type="file" id="photo" accept="image/*" style="margin:5px 0; width:100%;">

      <img id="photoPreview" src="" alt="Aperçu" style="display:none;width:80px;height:80px;margin-top:8px;border-radius:5px;">

      <div style="text-align:right; margin-top:10px;">
        <button id="saveBtn"
                style="margin-bottom: 8px; background-color:#4CAF50; color:white; border:none; padding:8px 16px; border-radius:4px; cursor:pointer;"
                onmouseover="this.style.backgroundColor='#45a049';" onmouseout="this.style.backgroundColor='#4CAF50';">Enregistrer</button>

        <button id="cancelBtn"
                style="background-color:#f44336; color:white; border:none; padding:8px 16px; border-radius:4px; cursor:pointer;"
                onmouseover="this.style.backgroundColor='#e53935';" onmouseout="this.style.backgroundColor='#f44336';">Annuler</button>
      </div>
    </div>
  </div>

  <script type="module" src="dashboard.js"></script>
</body>
</html>
